<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Web 18 Unit-2 C3</title>
    <style>
      
    </style>
   
  </head>
    
  <body>
    <div id="container">
      <div>
        <h1 onekeydown>Masai Evaluations Tracker</h1>
        <form id="form">
            <!-- When this form get submitted update the DOM According to the question -->
          <input placeholder="Name" id="name" type="text" onk  />
          <select id="batch">
            <option value="WEB16">WEB19</option>
            <option value="WEB17">WEB20</option>
            <option value="WEB18">WEB21</option>
            <option value="WEB16">WEB22</option>
            <option value="WEB17">WEB23</option>
            <option value="WEB18">WEB24</option>
          </select>
          <select id="type">
            <option value="DSA">DSA</option>
            <option value="Coding">Coding</option>
          </select>
          <input placeholder="Student Code" id="student_code" type="text" />
          <select id="unit">
            <option value="Unit-1">Unit-1</option>
            <option value="Unit-2">Unit-2</option>
            <option value="Unit-3">Unit-3</option>
            <option value="Unit-4">Unit-4</option>
          </select>
          <select id="sprint">
            <option value="Sprint-1">Sprint-1</option>
            <option value="Sprint-2">Sprint-2</option>
            <option value="Sprint-3">Sprint-3</option>
            <option value="Sprint-4">Sprint-4</option>
          </select>
          <input placeholder="Score(0-10)" id="score" type="number" />
          <input type="submit" />
        </form>
      </div>
      <div id="reports">
        <!-- All the cards that get appended with Javascript on form submit goes here -->
           
      </div>
    </div>
  </body>
</html>
<script>
    let student_data = [];

     let form = document.querySelector('#form');

     form.addEventListener('submit' , function(event){
      event.preventDefault();

      let form_data = {
      name : form.name.value,
      batch : form.batch.value,
      code : form.student_code.value,
      type :  form.type.value,
      unit : form.unit.value,
      sprint : form.sprint.value,
      score : form.score.value,
      };
      
     

     if(form_data.name == "" || form_data.batch == "" || form_data.type == "" || form_data.code == "" || form_data.unit == "" || form_data.sprint == "" || form_data.score == ""){
      alert(" fill all these deatils");
     }
     else{
      student_data.push(form_data)
      displaycard(student_data);
    }
  
  });


    function displaycard(data){

      let report = document.querySelector("#reports");
      report.innerHTML = null ;


      data.forEach(function (ele,index){
     

     let DIV = document.createElement('div');

  let s_name = document.createElement('h1');
   s_name.innerText = ele.name;

   let s_batch = document.createElement('p');
   s_batch.innerText =ele.batch;

  let s_type = document.createElement('p');
   s_type.innerText = ele.type;

   let s_code= document.createElement('p');
   s_code.innerText = ele.code;

   let s_unit = document.createElement('p');
    s_unit.innerText = ele.unit;

    let s_sprint = document.createElement('p');
     s_sprint.innerText = ele.sprint;

      let s_score= document.createElement('p');
      s_score.innerText = ele.score;

     let s_status = document.createElement('h3');

     let btn = document.createElement('button');
      btn.innerText = "Delete";
      btn.addEventListener("click" , function(){
        deleteData(ele , index);
     })

      if(ele.score<=3){
       s_status.innerText = 'Learning';
        s_status.style.color = 'red';

      }
     else if(ele.score>=4 && ele.score<=7){
      s_status.innerText = 'Achieving';
      s_status.style.color = 'orange';

      }
      else{
      s_status.innerText = 'Mastery';
      s_status.style.color = 'green';
      }

     DIV.append(s_name,s_batch,s_code,s_score,s_sprint,s_type,s_unit,s_status , btn);
      report.append(DIV);
    

      function deleteData(ele , index){
        student_data = student_data.filter(function(ele , i){
        return i!== index;
      })
      displaycard(student_data);
     }

     


DIV.style.boxShadow = ' rgba(0, 0, 0, 0.24) 0px 3px 8px' ;
let parent = document.getElementById('reports');
parent.append(DIV);

parent.style.display = 'grid';
parent.style.gridTemplateColumns= 'repeat(4,1fr)';
parent.style.gap = '20px';
parent.style.margintop = '50px' ;

      })
     
     

 

    }
     

    
    
     
     
</script>

